{% extends "base.html" %}

{% block title %}Dashboard - Sistema de Pastoreo{% endblock %}
{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/modules/dashboard.css') }}">
{% endblock %}

{% block content %}
<div class="dashboard-page">
<div class="dashboard-container dashboard-fade-in">
    <!-- Header del Dashboard -->
    <div class="dashboard-header">
        <div class="dashboard-header-content">
            <div>
                <h1 class="dashboard-title">
                    ğŸ“Š Dashboard de GestiÃ³n
                </h1>
                <p class="dashboard-subtitle">Bienvenido al Sistema de GestiÃ³n de Pastoreo</p>
            </div>
            <div class="dashboard-welcome-info">
                <p class="mb-1">ğŸ‘‹ Hola, {{ current_user.nombre }}</p>
                <small>{{ fecha_actual }}</small>
            </div>
        </div>
    </div>

    <!-- EstadÃ­sticas del Sistema -->
    <div class="dashboard-stats">
        <div class="dashboard-stat-card fincas">
            <div class="dashboard-stat-icon">ğŸ </div>
            <div class="dashboard-stat-content">
                <div>
                    <h3 class="dashboard-stat-number">{{ stats.total_fincas or 0 }}</h3>
                    <p class="dashboard-stat-label">Fincas Activas</p>
                    <p class="dashboard-stat-description">Propiedades registradas en el sistema</p>
                </div>
            </div>
        </div>
        
        <div class="dashboard-stat-card potreros">
            <div class="dashboard-stat-icon">ğŸŒ±</div>
            <div class="dashboard-stat-content">
                <div>
                    <h3 class="dashboard-stat-number">{{ stats.total_potreros or 0 }}</h3>
                    <p class="dashboard-stat-label">Potreros</p>
                    <p class="dashboard-stat-description">Divisiones de pastoreo configuradas</p>
                </div>
            </div>
        </div>
        
        <div class="dashboard-stat-card aforos">
            <div class="dashboard-stat-icon">ğŸ“</div>
            <div class="dashboard-stat-content">
                <div>
                    <h3 class="dashboard-stat-number">{{ stats.total_aforos or 0 }}</h3>
                    <p class="dashboard-stat-label">Aforos</p>
                    <p class="dashboard-stat-description">Mediciones de disponibilidad forrajera</p>
                </div>
            </div>
        </div>
        
        <div class="dashboard-stat-card actividades">
            <div class="dashboard-stat-icon">âš¡</div>
            <div class="dashboard-stat-content">
                <div>
                    <h3 class="dashboard-stat-number">{{ stats.total_actividades or 0 }}</h3>
                    <p class="dashboard-stat-label">Actividades</p>
                    <p class="dashboard-stat-description">Tareas y eventos registrados</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Acciones RÃ¡pidas -->
    <div class="dashboard-actions-section">
        <h2 class="dashboard-section-title">ğŸš€ Acciones RÃ¡pidas</h2>
        <div class="dashboard-actions-grid">
            <a href="{{ url_for('potreros.index') }}" class="dashboard-action-card potreros">
                <div class="dashboard-action-icon">ğŸŒ±</div>
                <h3 class="dashboard-action-title">Gestionar Potreros</h3>
                <p class="dashboard-action-description">Crear y administrar divisiones de pastoreo</p>
            </a>
            
            <a href="{{ url_for('aforos.index') }}" class="dashboard-action-card aforos">
                <div class="dashboard-action-icon">ğŸ“</div>
                <h3 class="dashboard-action-title">Realizar Aforos</h3>
                <p class="dashboard-action-description">Medir disponibilidad forrajera y biomasa</p>
            </a>
            
            <a href="{{ url_for('actividades.index') }}" class="dashboard-action-card actividades">
                <div class="dashboard-action-icon">âš¡</div>
                <h3 class="dashboard-action-title">Registrar Actividades</h3>
                <p class="dashboard-action-description">Documentar actividades y tareas diarias</p>
            </a>
            
            <a href="{{ url_for('ganado.lotes') }}" class="dashboard-action-card ganado">
                <div class="dashboard-action-icon">ğŸ„</div>
                <h3 class="dashboard-action-title">
                    GestiÃ³n de Ganado 
                    <span class="dashboard-badge available">Disponible</span>
                </h3>
                <p class="dashboard-action-description">Administrar lotes y movimientos de ganado</p>
            </a>
            
            <a href="{{ url_for('clima.index') }}" class="dashboard-action-card clima">
                <div class="dashboard-action-icon">ğŸŒ¤ï¸</div>
                <h3 class="dashboard-action-title">
                    Datos ClimÃ¡ticos 
                    <span class="dashboard-badge available">Disponible</span>
                </h3>
                <p class="dashboard-action-description">Monitorear condiciones climÃ¡ticas y meteorologÃ­a</p>
            </a>
            
            <a href="{{ url_for('recorridos.index') }}" class="dashboard-action-card recorridos">
                <div class="dashboard-action-icon">ğŸš¶</div>
                <h3 class="dashboard-action-title">
                    Recorridos 
                    <span class="dashboard-badge available">Disponible</span>
                </h3>
                <p class="dashboard-action-description">Planificar y registrar recorridos de inspecciÃ³n</p>
            </a>
            
            <a href="{{ url_for('ph.index') }}" class="dashboard-action-card ph">
                <div class="dashboard-action-icon">ğŸ§ª</div>
                <h3 class="dashboard-action-title">
                    AnÃ¡lisis de pH 
                    <span class="dashboard-badge available">Disponible</span>
                </h3>
                <p class="dashboard-action-description">Monitorear el pH del suelo y salud quÃ­mica</p>
            </a>
        </div>
    </div>

    <!-- InformaciÃ³n del Sistema -->
    <div class="dashboard-system-info">
        <h2 class="dashboard-section-title">â„¹ï¸ InformaciÃ³n del Sistema</h2>
        <div class="dashboard-info-grid">
            <div class="dashboard-info-card">
                <h4 class="dashboard-info-title">Usuario Actual</h4>
                <p class="dashboard-info-value">{{ current_user.nombre }}</p>
            </div>
            
            <div class="dashboard-info-card">
                <h4 class="dashboard-info-title">Finca Activa</h4>
                <p class="dashboard-info-value">{{ finca_actual.nombre if finca_actual else 'No seleccionada' }}</p>
            </div>
            
            <div class="dashboard-info-card">
                <h4 class="dashboard-info-title">Rol</h4>
                <p class="dashboard-info-value">{{ rol_usuario or 'No asignado' }}</p>
            </div>
            
            <div class="dashboard-info-card">
                <h4 class="dashboard-info-title">Ãšltima ConexiÃ³n</h4>
                <p class="dashboard-info-value">{{ fecha_actual }}</p>
            </div>
        </div>
    </div>
</div>
</div>

{% endblock %} 